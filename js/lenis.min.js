(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,t.Lenis=e())})(this,function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function e(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},i.apply(this,arguments)}function o(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function n(t){var e=o(t,"string");return"symbol"==typeof e?e:String(e)}function r(t,e,i){return Math.max(t,Math.min(e,i))}function s(t,e,i){return(1-i)*t+i*e}function l(t,e,i,o){return s(t,e,1-Math.exp(-i*o))}function h(t,e){return(t%e+e)%e}function a(t,e){var i;return function(){var o=arguments,n=this;clearTimeout(i),i=setTimeout(function(){t.apply(n,o)},e)}}var c="1.0.26",u=function(){function t(){}var e=t.prototype;return e.advance=function(t){var e;if(this.isRunning){var i=!1;if(this.lerp)this.value=l(this.value,this.to,60*this.lerp,t),Math.round(this.value)===this.to&&(this.value=this.to,i=!0);else{this.currentTime+=t;var o=r(0,this.currentTime/this.duration,1);i=o>=1;var n=i?1:this.easing(o);this.value=this.from+(this.to-this.from)*n}null==(e=this.onUpdate)||e.call(this,this.value,i),i&&this.stop()}},e.stop=function(){this.isRunning=!1},e.fromTo=function(t,e,i){var o=i.lerp,n=void 0===o?.1:o,r=i.duration,s=void 0===r?1:r,l=i.easing,h=void 0===l?function(t){return t}:l,a=i.onStart,c=i.onUpdate;this.from=this.value=t,this.to=e,this.lerp=n,this.duration=s,this.easing=h,this.currentTime=0,this.isRunning=!0,null==a||a(),this.onUpdate=c},t}(),p=function(){function t(t){var e=this,i=void 0===t?{}:t,o=i.wrapper,n=i.content,r=i.autoResize,s=void 0===r||r;if(this.resize=function(){e.onWrapperResize(),e.onContentResize()},this.onWrapperResize=function(){e.wrapper===window?(e.width=window.innerWidth,e.height=window.innerHeight):(e.width=e.wrapper.clientWidth,e.height=e.wrapper.clientHeight)},this.onContentResize=function(){e.scrollHeight=e.content.scrollHeight,e.scrollWidth=e.content.scrollWidth},this.wrapper=o,this.content=n,s){var l=a(this.resize,250);this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(l),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(l),this.contentResizeObserver.observe(this.content)}this.resize()}var i=t.prototype;return i.destroy=function(){var t,e;null==(t=this.wrapperResizeObserver)||t.disconnect(),null==(e=this.contentResizeObserver)||e.disconnect()},e(t,[{key:"limit",get:function(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),t}(),d=function(){function t(){this.events={}}var e=t.prototype;return e.emit=function(t){for(var e=this.events[t]||[],i=0,o=e.length;i<o;i++)e[i].apply(e,[].slice.call(arguments,1))},e.on=function(t,e){var i,o=this;return(null==(i=this.events[t])?void 0:i.push(e))||(this.events[t]=[e]),function(){var i;o.events[t]=null==(i=o.events[t])?void 0:i.filter(function(t){return e!==t})}},e.off=function(t,e){var i;this.events[t]=null==(i=this.events[t])?void 0:i.filter(function(t){return e!==t})},e.destroy=function(){this.events={}},t}(),v=function(){function t(t,e){var i=this,o=e.wheelMultiplier,n=void 0===o?1:o,s=e.touchMultiplier,l=void 0===s?2:s,h=e.normalizeWheel,a=void 0!==h&&h;this.onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientX,n=e.clientY;i.touchStart.x=o,i.touchStart.y=n,i.lastDelta={x:0,y:0}},this.onTouchMove=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientX,n=e.clientY,r=-(o-i.touchStart.x)*i.touchMultiplier,s=-(n-i.touchStart.y)*i.touchMultiplier;i.touchStart.x=o,i.touchStart.y=n,i.lastDelta={x:r,y:s},i.emitter.emit("scroll",{deltaX:r,deltaY:s,event:t})},this.onTouchEnd=function(t){i.emitter.emit("scroll",{deltaX:i.lastDelta.x,deltaY:i.lastDelta.y,event:t})},this.onWheel=function(t){var e=t.deltaX,o=t.deltaY;i.normalizeWheel&&(e=r(-100,e,100),o=r(-100,o,100)),e*=i.wheelMultiplier,o*=i.wheelMultiplier,i.emitter.emit("scroll",{deltaX:e,deltaY:o,event:t})},this.element=t,this.wheelMultiplier=n,this.touchMultiplier=l,this.normalizeWheel=a,this.touchStart={x:null,y:null},this.emitter=new d,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}var e=t.prototype;return e.on=function(t,e){return this.emitter.on(t,e)},e.destroy=function(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})},t}(),f=function(){function t(t){var e=this,o=void 0===t?{}:t,n=o.wrapper,r=void 0===n?window:n,s=o.content,l=void 0===s?document.documentElement:s,h=o.wheelEventsTarget,a=void 0===h?r:h,f=o.eventsTarget,m=void 0===f?a:f,g=o.smoothWheel,S=void 0===g||g,y=o.smoothTouch,w=void 0!==y&&y,T=o.syncTouch,b=void 0!==T&&T,z=o.syncTouchLerp,M=void 0===z?.1:z,L=o.__iosNoInertiaSyncTouchLerp,E=void 0===L?.4:L,_=o.touchInertiaMultiplier,O=void 0===_?35:_,R=o.duration,W=o.easing,k=void 0===W?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:W,x=o.lerp,H=void 0===x?!R&&.1:x,j=o.infinite,A=void 0!==j&&j,X=o.orientation,Y=void 0===X?"vertical":X,C=o.gestureOrientation,D=void 0===C?"vertical":C,I=o.touchMultiplier,P=void 0===I?1:I,N=o.wheelMultiplier,U=void 0===N?1:N,V=o.normalizeWheel,q=void 0!==V&&V,B=o.autoResize,F=void 0===B||B;this.onVirtualScroll=function(t){var o=t.deltaX,n=t.deltaY,r=t.event;if(!r.ctrlKey){var s=r.type.includes("touch"),l=r.type.includes("wheel");if(!("both"===e.options.gestureOrientation&&0===o&&0===n||"vertical"===e.options.gestureOrientation&&0===n||"horizontal"===e.options.gestureOrientation&&0===o||s&&"vertical"===e.options.gestureOrientation&&0===e.scroll&&!e.options.infinite&&n<=0)){var h=r.composedPath();if(h=h.slice(0,h.indexOf(e.rootElement)),!h.find(function(t){var e;return(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent"))||s&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-touch"))||l&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-wheel"))||(null==(e=t.classList)?void 0:e.contains("lenis"))}))if(e.isStopped||e.isLocked)r.preventDefault();else{if(e.isSmooth=(e.options.smoothTouch||e.options.syncTouch)&&s||e.options.smoothWheel&&l,!e.isSmooth)return e.isScrolling=!1,void e.animate.stop();r.preventDefault();var a=n;"both"===e.options.gestureOrientation?a=Math.abs(n)>Math.abs(o)?n:o:"horizontal"===e.options.gestureOrientation&&(a=o);var c=s&&e.options.syncTouch,u=s&&"touchend"===r.type,p=u&&Math.abs(a)>1;p&&(a=e.velocity*e.options.touchInertiaMultiplier),e.scrollTo(e.targetScroll+a,i({programmatic:!1},c&&{lerp:p?e.syncTouchLerp:e.options.__iosNoInertiaSyncTouchLerp}))}}}},this.onScroll=function(){if(!e.isScrolling){var t=e.animatedScroll;e.animatedScroll=e.targetScroll=e.actualScroll,e.velocity=0,e.direction=Math.sign(e.animatedScroll-t),e.emit()}},window.lenisVersion=c,r!==document.documentElement&&r!==document.body||(r=window),this.options={wrapper:r,content:l,wheelEventsTarget:a,eventsTarget:m,smoothWheel:S,smoothTouch:w,syncTouch:b,syncTouchLerp:M,__iosNoInertiaSyncTouchLerp:E,touchInertiaMultiplier:O,duration:R,easing:k,lerp:H,infinite:A,gestureOrientation:D,orientation:Y,touchMultiplier:P,wheelMultiplier:U,normalizeWheel:q,autoResize:F},this.animate=new u,this.emitter=new d,this.dimensions=new p({wrapper:r,content:l,autoResize:F}),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=b||S||w,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new v(m,{touchMultiplier:P,wheelMultiplier:U,normalizeWheel:q}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var o=t.prototype;return o.destroy=function(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy()},o.on=function(t,e){return this.emitter.on(t,e)},o.off=function(t,e){return this.emitter.off(t,e)},o.setScroll=function(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t},o.resize=function(){this.dimensions.resize()},o.emit=function(){this.emitter.emit("scroll",this)},o.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0,this.animate.stop()},o.start=function(){this.isStopped=!1,this.reset()},o.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},o.raf=function(t){var e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)},o.scrollTo=function(t,e){var i=this,o=void 0===e?{}:e,n=o.offset,s=void 0===n?0:n,l=o.immediate,h=void 0!==l&&l,a=o.lock,c=void 0!==a&&a,u=o.duration,p=void 0===u?this.options.duration:u,d=o.easing,v=void 0===d?this.options.easing:d,f=o.lerp,m=void 0===f?!p&&this.options.lerp:f,g=o.onComplete,S=void 0===g?null:g,y=o.force,w=void 0!==y&&y,T=o.programmatic,b=void 0===T||T;if(!this.isStopped&&!this.isLocked||w){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{var z,M;if("string"==typeof t?M=document.querySelector(t):null!=(z=t)&&z.nodeType&&(M=t),M){if(this.options.wrapper!==window){var L=this.options.wrapper.getBoundingClientRect();s-=this.isHorizontal?L.left:L.top}var E=M.getBoundingClientRect();t=(this.isHorizontal?E.left:E.top)+this.animatedScroll}}if("number"==typeof t){if(t+=s,t=Math.round(t),this.options.infinite?b&&(this.targetScroll=this.animatedScroll=this.scroll):t=r(0,t,this.limit),h)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(null==S||S(this));if(!b){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:p,easing:v,lerp:m,onStart:function(){c&&(i.isLocked=!0),i.isScrolling=!0},onUpdate:function(t,e){i.isScrolling=!0,i.velocity=t-i.animatedScroll,i.direction=Math.sign(i.velocity),i.animatedScroll=t,i.setScroll(i.scroll),b&&(i.targetScroll=t),e||i.emit(),e&&requestAnimationFrame(function(){i.reset(),i.emit(),null==S||S(i)})}})}}},o.toggleClass=function(t,e){this.rootElement.classList.toggle(t,e),this.emitter.emit("className change",this)},e(t,[{key:"rootElement",get:function(){return this.options.wrapper===window?this.options.content:this.options.wrapper}},{key:"limit",get:function(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}},{key:"isHorizontal",get:function(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function(){return this.options.infinite?h(this.animatedScroll,this.limit):this.animatedScroll}},{key:"progress",get:function(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function(){return this.__isSmooth},set:function(t){this.__isSmooth!==t&&(this.__isSmooth=t)}},{key:"isScrolling",get:function(){return this.__isScrolling},set:function(t){this.__isScrolling!==t&&(this.__isScrolling=t)}},{key:"isStopped",get:function(){return this.__isStopped},set:function(t){this.__isStopped!==t&&(this.__isStopped=t)}}]),t}();return f});